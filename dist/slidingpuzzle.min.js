/*! slidingpuzzle - v0.0.0 - 2013-04-10
* Copyright (c) 2013 ; Licensed  */
function getInitialState(){for(var t=4,e=t*t,n=[],s=0;e-1>s;s++)n.push(s);return n.push(null),n}function playMove(t,e){var n=t.getIndexOfOpenTile(),s=t.state[e];t.state[n]=s,t.state[e]=null}function getRandomElement(t){return t[Math.floor(Math.random()*t.length)]}function setTile(t,e){var n,s="tile tile-pos-"+t;null==e?(n=".tile-content-empty",s+=" tile-content-empty"):(n=".tile-content-"+e,s+=" tile-content tile-content-"+e),$(n).attr("class",s)}function setTiles(t){for(var e=0;t.area>e;e++)setTile(e,t.state[e])}function getPrunedMoves(t,e){var n=[],s=null;e.length>=2&&(s=e[e.length-2]);for(var i=0;t.length>i;i++){var a=t[i];a!==s&&n.push(a)}return n}function play(t){t=t||[];var e=gameState.getPossibleMoves(),n=getPrunedMoves(e,t),s=getRandomElement(n);t.push(s),playMove(gameState,s),setTiles(gameState),steps&&(steps-=1,window.setTimeout(function(){play(t)},delay))}function toggleShowNumber(){$(".tile-content").toggleClass("tile-content-shownumber")}(function(t){var e=function(t){this.state=t,this.area=t.length,this.side=Math.sqrt(this.area)};e.prototype.toString=function(){for(var t="",e=0;this.side>e;e++){for(var n=0;this.side>n;n++){var s=this.state[e*this.side+n],i="   ";null!==s&&(i+=s),t+=i.substring(i.length-3,i.length)}t+="\n"}return t},e.prototype.getIndexOfOpenTile=function(){for(var t,e=0;this.area>e;e++)null===this.state[e]&&(t=e);return t},e.prototype.getPossibleMoves=function(){var t=[],e=this.getIndexOfOpenTile();return e%this.side-1>=0&&t.push(e-1),e%this.side+1<this.side&&t.push(e+1),e-this.side>=0&&t.push(e-this.side),e+this.side<this.area&&t.push(e+this.side),t},t.GameState=e})(self);var steps=100,gameState=new window.GameState(getInitialState()),delay=100;